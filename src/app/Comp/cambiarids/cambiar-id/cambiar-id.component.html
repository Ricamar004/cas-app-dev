<div class="container9">

	<div class="card bg-light mb-3" style="max-width: 100%">			
			<div class="card-body text-info panel panel-login">
					<form #pedidoForm="ngForm" (ngSubmit)="buscarPedido()">
							<!-- TO UPDATE -->						
							<div class="row"> <!--Div para alinear 2 campos uno a lado de otro-->
								<div class="col-sm-2 col-md-2 col-lg-2 col-xl-2">
									<div class="form-group">
										<input 
											placeholder="id pedido" 
											value=""
											type="text"
											name="idpedido"
											#idpedido="ngModel"
											[(ngModel)]="this.pedidoId"
											required
											class="form-control"
										/>
										<div *ngIf="idpedido.invalid && (idpedido.dirty || idpedido.touched)" class="text-danger">
											<div *ngIf="idpedido.errors.required">
												<small>Se requiere Id</small>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="form-group" style="text-align:right;padding-top: 10px;">
								<button class="btn-space" mat-stroked-button style="background-color:#bcc0c252; width: 250px !important;height: 35px !important;" type="submit">
									Buscar 
								</button>
								<button class="btn-space" mat-stroked-button style="background-color:#bcc0c252; width: 250px !important;height: 35px !important;" type="reset" (click)="resetForm(pedidoForm)">
										Reset
								</button>
								<button class="btn-space" mat-stroked-button style="background-color:#bcc0c252; width: 250px !important;height: 35px !important;" type="reset" (click)="cambiarId(pedidoForm)" [disabled]="!this.pedidoId">
										Llevar a cuentas por cobrar
								</button>
								<button class="btn-space" mat-stroked-button style="background-color:#bcc0c252; width: 250px !important;height: 35px !important;" type="reset" (click)="cambiarStatusCobrado()">
										Cambiar Estatus
								</button>
							</div>
						</form>
			</div>
	</div>


	<div style="width: 100%; margin-left: 10px; padding-right: 10px; padding-top:5px; padding-bottom: 50px;">
		<table mat-table [dataSource]="dataSource" class="mat-elevation-z8 table-hover" matSort>	
			<!-- Position Column -->
			<ng-container matColumnDef="idpedido">
				<th mat-header-cell *matHeaderCellDef mat-sort-header>Pedido</th>
				<td mat-cell *matCellDef="let element">{{ element.idpedido }}</td>
			  </ng-container>
		  
			  <!-- Name Column -->
			  <ng-container matColumnDef="fechapedido">
				<th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha</th>
				<td mat-cell *matCellDef="let element">
				  {{ element.fechapedido.toDate() | date: "dd/MM/yyyy&nbsp;" }}
				</td>
			  </ng-container>
		  
			  <!-- Name Column -->
			  <ng-container matColumnDef="status">
				<th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
				<td mat-cell *matCellDef="let element">{{ element.status }}</td>
			  </ng-container>
		  
			  <ng-container matColumnDef="listaprecio">
				<th
				  mat-header-cell
				  *matHeaderCellDef
				  mat-sort-header
				  style="flex: 0 0 28% !important"
				>
				  Lista de Precio
				</th>
				<td mat-cell *matCellDef="let element">{{ element.listaprecio }}</td>
			  </ng-container>
		  
			  <!-- Name Column -->
			  <ng-container matColumnDef="condiciondepago">
				<th
				  mat-header-cell
				  *matHeaderCellDef
				  mat-sort-header
				  style="flex: 0 0 28% !important"
				>
				  Condici√≥n de pago
				</th>
				<td mat-cell *matCellDef="let element">{{ element.condiciondepago }}</td>
			  </ng-container>
		  
			  <!-- Weight Column -->
			  <ng-container matColumnDef="nomcliente">
				<th mat-header-cell *matHeaderCellDef mat-sort-header>Cliente</th>
				<td mat-cell *matCellDef="let element">{{ element.nomcliente }}</td>
			  </ng-container>
		  
			  <!-- Symbol Column -->
			  <ng-container matColumnDef="nomvendedor">
				<th mat-header-cell *matHeaderCellDef mat-sort-header>Vendedor</th>
				<td mat-cell *matCellDef="let element">{{ element.nomvendedor }}</td>
			  </ng-container>
		  
			  <!-- Symbol Column -->
			  <ng-container matColumnDef="totalmontobruto">
				<th mat-header-cell *matHeaderCellDef>Sub Total</th>
				<td mat-cell *matCellDef="let element">
				  {{ element.totalmontobruto | currency: " " }}
				</td>
			  </ng-container>
		  
			  <!-- Symbol Column -->
			  <ng-container matColumnDef="totalmontodescuento">
				<th mat-header-cell *matHeaderCellDef>Descuento</th>
				<td mat-cell *matCellDef="let element">
				  {{ element.totalmontodescuento | currency: " " }}
				</td>
			  </ng-container>
		  
			  <!-- Symbol Column -->
			  <ng-container matColumnDef="totalmontoneto">
				<th mat-header-cell *matHeaderCellDef>Total</th>
				<td mat-cell *matCellDef="let element">
				  {{ element.totalmontoneto | currency: " " }}
				</td>
			  </ng-container>
			
			<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
			<tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
			
			<!-- Row shown when there is no matching data. -->
			<tr class="mat-row" *matNoDataRow>
				<td class="mat-cell" colspan="9" style="text-align: left;">No hay datos que coincidan con la busqueda</td>
			</tr>
		</table>
	</div>
</div>